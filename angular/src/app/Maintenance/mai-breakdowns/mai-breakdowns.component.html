<ngx-spinner></ngx-spinner>
<div *ngIf='opencheck'>
<h3>Breakdown Details</h3>
<table style="width:60%" >
<tr>
    <td style="width: 35%;" align="right">Equipment</td>
    <td style="width: 65%;">
    <select class="form-control" [(ngModel)]='equipid'>
        <option value="0">--Select Equipment--</option>
        <option *ngFor='let equ of equips' value="{{equ.recordId}}">
            {{equ.equipmentName}}
        </option>
    </select>
    </td>
</tr>
  

<tr>
    <td style="width: 35%;" align="right">Report Date</td>
    <td style="width: 65%;">
        <input type="date" class="form-control" [value]="tradate | date:'yyyy-MM-dd'" (input)="tradate=parseDate($event.target.value)"> 
     
    </td>
</tr>
<tr>
    <td style="width: 35%;" align="right">&nbsp;</td>
    <td style="width: 65%;">
      <input type="checkbox" [(ngModel)]='workdisturb'> Work Disturbance
    </td>
    
</tr>
 

<tr>
    <td style="width: 35%;" align="right">Description</td>
    <td style="width: 65%;">
        <textarea rows="3" class="form-control" [(ngModel)]='descr'>

        </textarea>
     
</tr>
<tr>
    <td colspan="2">
        <button type="button" class="btn-lg btn-primary" (click)='save()'>Save</button>
        <button type="button" class="btn-lg btn-dark" (click)='close()'>Close</button>
    </td>
</tr>

</table>
</div>

<div *ngIf='!opencheck'>

    <h3>
        List of Breakdown
    </h3>
    
     
    <table style="width: 80%;">
     <tr>
 
      <td align="right" style="width: 40%;">
          <input type="date" class="form-control" [value]="listdate | date:'yyyy-MM-dd'" (input)="listdate=parseDate($event.target.value)"> 
     
      
      </td>
      <td align="left" style="width: 25%;">   <button *ngIf='!opened' type="button" class="btn-lg btn-info mr-1 mb-1" (click)='listAdd()'>Show</button> </td>
 
         <td align="left" style="width: 25%;" *ngIf="addbuttonenable">
             <button type="button" class="btn-lg btn-success mr-1 mb-1" (click)='openNew()' >New</button>
         </td>
       
     </tr>
     </table>
 
 
 
    
    <table class="table m-0" style="width: 100%;">
        <thead class="thead-light">
          <tr>
            <th style="width: 4%;">#</th>
           
            <th style="width: 30%;">Equipment</th>
            <th style="width: 15%;">Reported @</th>
            <th style="width: 15%;">USer</th>
            <th style="width: 15%;">Assigned</th>
            <th style="width: 15%;">Cleared</th>
            <th style="width: 6%;"></th>
          
          </tr>
        </thead>
        <tbody>
         
          <tr *ngFor='let enq of prevmains;let i=index'>
            <th scope="row" style="width: 5%;" >{{i+1}}</th>
             <td style="width: 30%;">{{enq.equipment}}</td>
            <td style="width: 15%;">{{enq.breakdowndate | date:'dd-MMM-yy'}}</td>
            <td style="width: 15%;">{{enq.reporteduser}}</td>
            <td style="width: 15%;">{{enq.serviceassign}}</td>
            <td style="width: 15%;">{{enq.serviceclear}}</td>
              <td style="width: 6%;" *ngIf="modifybuttonenable"><i *ngIf='!opened' class="ft-edit font-medium-1"></i></td>
  
           </tr>
         
        </tbody>
      </table>
</div>
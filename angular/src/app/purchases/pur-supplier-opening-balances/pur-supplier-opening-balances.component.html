<ngx-spinner></ngx-spinner>
<div *ngIf='authCheck'>
<h3>Supplier Opening Balances</h3>
<table style="width: 100%;">
<tr>
  <td style="width: 50%;" align="left">
    <button class="btn-lg btn-primary" (click)='save()'>Save</button>
  </td>
  <td style="width: 50%;" align="right">
    <button class="btn-lg btn-info" (click)='openModal(customContent)'>Filter</button>
  </td>
</tr>
</table>

<table class="table m-0" style="width: 100%;">
    <thead class="thead-light">
      <tr>
        <th style="width: 5%;">#</th>
        <th style="width: 40%;">Supplier</th>
        <th style="width: 31%;">Group</th>
        <th style="width: 12%;">Debit</th>
        <th style="width: 12%;">Credit</th>
      </tr>
    </thead>
    <tbody>
        
      <tr *ngFor='let party of parties;let i=index'>
        <th scope="row" style="width: 5%;" >{{i+1}}</th>
        <td style="width: 40%;">{{party.suppliername}}</td>
        <td style="width: 31%;">{{party.suppliergroup}}</td>
        <td style="width: 12%;">
            <input type="number" class="form-control" [disabled] ='party.credit > 0' [(ngModel)]='party.debit'>
           </td>
           <td style="width: 12%;">
            <input type="number" class="form-control" [disabled] ='party.debit > 0' [(ngModel)]='party.credit'>
           </td>
      </tr>
     
    </tbody>
  </table>


  
<ng-template #customContent let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h6 class="modal-title">Filter</h6>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table style="width: 100%;">
      <tr>
        <td style="width: 50%;" align="left">
          <button class="btn-lg btn-success" (click)='assignSupplier()'>Assign</button>
        </td>
        <td style="width: 50%;" align="right">
          <button class="btn-lg btn-dark" (click)='closeWindow()'>Close</button>
        </td>
      </tr>
    </table>
       <table style="width:100%">
      <tr>
        <td style="width: 100%;">
        <input type="text" class="form-control" [(ngModel)]='searchtext' (input)='searchSupplier()'>
        </td>
      </tr>
      </table>

      <div style="width: 100%; height: 400px; overflow-y: scroll ;">
<table class="table m-0" style="width: 100%;">
  <thead class="thead-light">
    <tr>
      <th style="width: 5%;">#</th>
      <th style="width: 40%;">Supplier</th>
      <th style="width: 31%;">Group</th>
      <th style="width: 12%;">Debit</th>
      <th style="width: 12%;">Credit</th>
    </tr>
  </thead>
  <tbody>
      
    <tr *ngFor='let party of filterparties;let i=index'>
      <th scope="row" style="width: 5%;" >{{i+1}}</th>
      <td style="width: 40%;">{{party.suppliername}}</td>
      <td style="width: 31%;">{{party.suppliergroup}}</td>
      <td style="width: 12%;">
          <input type="number" class="form-control" [disabled] ='party.credit > 0' [(ngModel)]='party.debit'>
         </td>
         <td style="width: 12%;">
          <input type="number" class="form-control" [disabled] ='party.debit > 0' [(ngModel)]='party.credit'>
         </td>
    </tr>
   
  </tbody>
</table>

      </div>

            
 </div>
</ng-template>

</div>


<span *ngIf='!authCheck'>
  <h2>Please verify your authorization</h2>
</span>
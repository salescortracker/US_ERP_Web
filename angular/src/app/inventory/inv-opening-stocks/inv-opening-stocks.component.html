<h3>Opening Stocks as on {{dat | date}}</h3>
<table style="width: 100%;">
    <tr>
      <td style="width: 10%;">Store</td>
      <td style="width: 15%;">Material</td>
        <td style="width: 10%;">Batch No</td>
        <td style="width: 10%;">Manufactured</td>
        <td style="width: 10%;">Expiry</td>
        <td style="width: 8%;">Qty</td>
        <td style="width: 8%;">UOM</td>
        <td style="width: 8%;">Rate</td>
       
        <td style="width: 5%;">&nbsp;</td>
    </tr>
    
    <tr>
      <td style="width: 10%;">   <select style="width: 100%;" class="form-control" [(ngModel)]='storeid' (change)='listAdd()'>

        
            <option value="{{store.recordId}}" *ngFor='let store of stores'>{{store.storeCode}}</option>
             
            </select></td>
        <td style="width: 27%;">   <ng-select [items]="items" bindLabel="itemname" [(ngModel)]='material' > </ng-select> </td>
        <td style="width: 15%;">   <ng-select [items]="items" bindLabel="itemname" [(ngModel)]='material' > </ng-select> </td>
        <td style="width: 10%;"><div class="input-group">
          <input class="form-control" type="date" placeholder="yyyy-mm-dd" name="dp"   ngbDatepicker 
          style="width: 50%;" [(ngModel)]='manudat' >
            <div class="input-group-append">
              <div class="input-group-text" (click)="d3.toggle()">
                <i class="fa fa-calendar" style="cursor: pointer;"></i>
              </div>
            </div>
          </div>    </td>
        <td style="width: 10%;"><div class="input-group">
            <input class="form-control" placeholder="yyyy-mm-dd" name="dp"   ngbDatepicker 
              #d3="ngbDatepicker" style="width: 50%;" [disabled]='material.shelflife==0'  [(ngModel)]='expdate'>
            <div class="input-group-append">
              <div class="input-group-text" (click)="d3.toggle()">
                <i class="fa fa-calendar" style="cursor: pointer;"></i>
              </div>
            </div>
          </div>    </td>
        <td style="width: 8%;"><input type="number" [(ngModel)]='qty' class="form-control" style="width: 100%;"></td>
        <td style="width: 8%;"> <input type="text"  class="form-control"  disabled style="width: 100%;" [(ngModel)]='material.stdum'>  </td>
        <td style="width: 8%;"><input type="number" [(ngModel)]='rat' class="form-control" style="width: 100%;"></td>
    
        <td style="width: 5%;"><button type="button" style="width: 100%;" class="btn-lg btn-success mr-1 mb-1" [disabled]='addcheck' (click)='addStock() '  id="add-button">Add</button>
          <!-- Tooltip Arrow -->
          <div
          class="tooltip-arrow"
          ngbTooltip="Click here to add a new opening stocks!"
          placement="right"
          container="body"
          [ngClass]="{'paused': isArrowPaused}"
          (mouseenter)="stopArrowMovement()"
          (mouseleave)="startArrowMovement()"
        >
          <span class="arrow">ü¢¶</span>
          </div>
        </td>
    </tr>
    <tr>
      <td style="width: 14%;" align="right">Group</td>
      <td style="width: 27%;"> <input type="text"  class="form-control"  disabled style="width: 100%;" [(ngModel)]='material.grp'>  </td>
      <td style="width: 10%;">&nbsp;</td>
      <td style="width: 10%;">&nbsp;</td>
      <td style="width: 10%;">&nbsp;</td>
      <td style="width: 8%;">&nbsp;</td>
      <td style="width: 8%;">&nbsp;</td>
      <td style="width: 8%;">&nbsp;</td>
     
      <td style="width: 5%;">&nbsp;</td>
  </tr>
  <!--
<tr>
  <td colspan="9">{{material | json}}</td>
</tr>
-->
  <tr>
    <td style="width: 14%;" align="right">&nbsp;</td>
    <td style="width: 27%;"> &nbsp; </td>
    <td style="width: 10%;">&nbsp;</td>
    <td style="width: 10%;">&nbsp;</td>
    <td style="width: 10%;">&nbsp;</td>
    <td style="width: 8%;">&nbsp;</td>
    <td style="width: 8%;">&nbsp;</td>
    <td style="width: 8%;">&nbsp;</td>
   
    <td style="width: 5%;">&nbsp;</td>
</tr>

<tr>
  <td colspan="9">
<table class="table m-0" style="width: 100%;">
<thead class="thead-light">
  <tr>
     
  
    <th>Material</th>
    <th>Batch</th>
    <th>Manufa.,</th>
    <th>Exp., </th>
    <th>Qty</th>
    <th>UM</th>
    <th>Rate</th>
    <th>&nbsp;</th>
  </tr>
</thead>

<tbody>
    <!-- No Data Message -->
<tr  *ngIf="!opestocks || opestocks.length === 0" >
  <td colspan="5">
    <div class="no-countries-message">
      <span class="warning-icon">‚ö†Ô∏è</span>
      <span class="message-text">
        The item groups from your company cannot be found. Please click
        the "New" button above to add item groups.
      </span>
    </div>
  </td>
</tr>

<tr *ngFor='let item of opestocks; let i=index'>
  
  
  <td>{{item.itemname}}</td>
  <td>{{item.batchNo}}</td>
  <td>{{item.manudate | date:'short'}}</td>
  <td>{{item.expdate | date:'short'}}</td>
  <td>{{item.qty}}</td>
  <td>{{item.stdUm}}</td>
  <td>{{item.rat}}</td>
  <td><i class="ft-trash font-medium-1" (click)='deleteStock(item)' ></i></td>
</tr>
</tbody>

</table>
</td>
</tr>

</table>



<ngx-spinner></ngx-spinner>